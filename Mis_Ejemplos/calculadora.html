<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Calculadora</title>

<style>
.numero{
	width:60px;
	height:60Px;
}
.igual{
	width:60px;
	height:60Px;
}
.resert{
	width:60px;
	height:60Px;
}
table{
	margin:auto;
}
.color_display{
	height:30px;
	background-color:#fff;
	border:medium #000;
	font:"Space Age";
	font-size:18px;
	text-align:right;
	padding:5px;
}
</style>
<script>
	var cifra="";//la variable cifra es de texto porque el display es de tipo text
	var acumular=0;//variable que va a acumular las operaciones, si suma 5+7=12+3=15 y así sucesivamente
	var sumar=false;
	var restar=false;
	var multiplicar=false;
	var dividir=false;
//funcion para mostrar los números en el display
	function display_numeros(numero){
		document.getElementById("display").value=cifra+numero;
	//almacena el valor del numero en el display y en la siguiente llamada a la funcion lo concatena
		cifra=document.getElementById("display").value;
	}

	function suma(){
		if(restar){
			acumular=acumular-parseInt(cifra);//lo que entra en display es de tipo texto por lo que hay que parsear
			document.getElementById("display").value=acumular;
		}else if(multiplicar){
			acumular=acumular*parseInt(cifra);
			document.getElementById("display").value=acumular;
		}else if(dividir){
			acumular=acumular/parseInt(cifra);
			document.getElementById("display").value=acumular;
		}else{
			acumular=acumular+parseInt(cifra);//lo que entra en display es de tipo texto por lo que hay que parsear
			document.getElementById("display").value=acumular;
		}
	// variable que resetea el número primero para poner el siguiente número a sumar
		cifra="";
		restar=false;
		multiplicar=false;
		dividir=false;
	//si ha realizado la suma el valor sera true
		sumar=true;	
	}
	function resta(){
		if(sumar){// si lo último que has hecho es sumar muestra en el display la suma pero si no muestra la resta 
			acumular=acumular+parseInt(cifra);//lo que entra en display es de tipo texto por lo que hay que parsear
			document.getElementById("display").value=acumular;
		}else if(multiplicar){
			acumular=acumular*parseInt(cifra);
			document.getElementById("display").value=acumular;
		}else if(dividir){
			acumular=acumular/parseInt(cifra);
			document.getElementById("display").value=acumular;
		
		}else{
			
			if(acumular==0){//no pone el signo menos delante del número si la calculadora esta en el inicio
				acumular=cifra;
			}else{
				acumular=acumular-parseInt(cifra);
			}
			document.getElementById("display").value=acumular;
		}
	// variable que resetea el número primero para poner el siguiente número a sumar
		cifra="";
		sumar=false;
		multiplicar=false;
		dividir=false;
		restar=true;
	
	}
	function multiplicando(){
		
		if(sumar){// si lo último que has hecho es sumar muestra en el display  
			acumular=acumular+parseInt(cifra);//lo que entra en display es de tipo texto por lo que hay que parsear
			document.getElementById("display").value=acumular;
		}else if(restar){//si lo último que has hecho es restar muestra en el display la resta
			acumular=acumular-parseInt(cifra);
			document.getElementById("display").value=acumular;
		}else if(dividir){
			acumular=acumular/parseInt(cifra);
			document.getElementById("display").value=acumular;
		
		}else {//pero si no realiza la multiplicacion
			if(acumular==0){
				acumular=cifra;
			}else{
				acumular=acumular*parseInt(cifra);
			}
			document.getElementById("display").value=acumular;
		}
	// variable que resetea el número primero para poner el siguiente número a sumar
		cifra="";
	//para que las dos variables no sean true
		sumar=false;
		restar=false;
		dividir=false;
		multiplicar=true;
		
	}
		function dividiendo(){
		if(sumar){// si lo último que has hecho es sumar muestra en el display  
			acumular=acumular+parseInt(cifra);//lo que entra en display es de tipo texto por lo que hay que parsear
			document.getElementById("display").value=acumular;
		}else if(restar){//si lo último que has hecho es restar muestra en el display la resta
			acumular=acumular-parseInt(cifra);
			document.getElementById("display").value=acumular;
		}else if(multiplicar){
			acumular=acumular*parseInt(cifra);
			document.getElementById("display").value=acumular;
		}else{//pero si no realiza la division
			if(acumular==0){
				acumular=cifra;
			}else{
				acumular=acumular/parseInt(cifra);
			}
			document.getElementById("display").value=acumular;
		}
	// variable que resetea el número primero para poner el siguiente número a sumar
		cifra="";
	//para que las dos variables no sean true
		sumar=false;
		restar=false;
		multiplicar=false;
		dividir=true;
	}
	function resultado(){
		debugger;
		if(sumar){// esto es lo mismo que if(sumar==true)
			document.getElementById("display").value=acumular+parseInt(cifra);//parseInt(cifra) suma lo que hay en la pantalla conlo acumulado
		}else if(restar){//if(restar==true)
			document.getElementById("display").value=acumular-parseInt(cifra);
		}
		else if(multiplicar){//if(multiplicar==true)
			document.getElementById("display").value=acumular*parseInt(cifra);
		}else if(dividir){//if(dividir==true)
			document.getElementById("display").value=acumular/parseInt(cifra);
		}
	//acumula en la variable lo que hay en la pantalla cuando se pulsa el signo =
		acumular=parseInt(document.getElementById("display").value);
	//resetear la variable cifra para poder realizar una nueva operación
		cifra=0;
	}
	function resetear(){
		if(parseInt(cifra)!=""){
			cifra="";
			document.getElementById("display").value=cifra;
		}else{
			document.getElementById("display").value=0;
		}
		
	}
	
</script>
</head>


<body>
<table width="15%" border="1">
<tr>
	<td colspan="4" align="center">
    <input name="display" type="text" class="color_display" id="display" size="25" /></td>
</tr>
<tr>
	<td width="26%"><input name="button" type="button"  class="numero" id="button" value="+" onclick="suma()" /></td>
    <td width="21%"><input name="button1" type="button"  class="numero" id="button1" value="-" onclick="resta()" /></td>
    <td width="21%"><input name="button2" type="button"  class="numero" id="button2" value="*" onclick="multiplicando()" /></td>
    <td width="32%"><input name="button3" type="button"  class="numero" id="button3" value="/" onclick="dividiendo()" /></td>
</tr>
<tr>
	<td ><input name="num7" type="button"  class="numero" id="num7" value="7" onclick="display_numeros(7)"/></td>
    <td ><input name="num8" type="button"  class="numero" id="num8" value="8" onclick="display_numeros(8)"/></td>
    <td ><input name="num9" type="button"  class="numero" id="num9" value="9" onclick="display_numeros(9)"/></td>
    <td >&nbsp;</td>
</tr>
<tr>
	<td ><input name="num4" type="button"  class="numero" id="num4" value="4" onclick="display_numeros(4)"/></td>
    <td ><input name="num5" type="button"  class="numero" id="num5" value="5" onclick="display_numeros(5)"/></td>
    <td ><input name="num6" type="button"  class="numero" id="num6" value="6" onclick="display_numeros(6)"/></td>
    <td >&nbsp;</td>
</tr>
<tr>
	<td ><input name="num1" type="button"  class="numero" id="num1" value="1" onclick="display_numeros(1)" /></td>
    <td ><input name="num2" type="button"  class="numero" id="num2" value="2" onclick="display_numeros(2)"/></td>
    <td ><input name="num3" type="button"  class="numero" id="num3" value="3" onclick="display_numeros(3)"/></td>
    <td >&nbsp;</td>
</tr>
<tr>
	<td ><input name="num0" type="button"  class="numero" id="num0" value="0" onclick="display_numeros(0)"/></td>
    <td ><input name="coma" type="button"  class="numero" id="coma" value="," /></td>
    <td ><input name="igual" type="button"  class="igual" id="igual" value="=" onclick="resultado()"/></td>
	<td ><input name="resert" type="button"  class="resert" id="resert" value="C" onclick="resetear"/></td>
	
</tr>
</table>
<script>
//cuando carga la calculadora ejecuta la instruccion y siempre mostrara el 0 en el display
//si esto se hace en la cabecera como el programa va de arriba a abajo no sabria que es el boton display
document.getElementById("display").value=0;
</script>
</body>
</html>
