<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Ejercicio 3</title>
    <!--Realiza un script que pida números hasta que se pulse “cancelar”. Si no es un número 
        deberá indicarse con un «alert» y seguir pidiendo. 
        Al salir con “cancelar” deberá indicarse la suma total de los números introducidos.-->
    <link href="hoja_estilos.css" type="text/css" rel="stylesheet">
<script>
    //variable para guardar la suma de los números que introduzca el usuario
    var suma = 0;
    //la funcion continuar sirve para cuando se usa el botón continuar
    function continuar(){
        sumaNumero();//utiliza la función para ir guardando el valor que va entrando por el label
        document.getElementById("num").value = "";//con value="", cuando continua se limpia el label para introducir otro número
    }
    //la funcion cancelar sirve para cuando se usa el botón cancelar 
    function cancelar(){
        sumaNumero();//llama a la función suma
        document.getElementById("num").value;//guarda el valor que entra
        document.write("El resultado es: " + suma);//muestra por pantalla la suma de todos los valores 
    }

    function sumaNumero(){
        var numero=document.getElementById("num").value;//coge el valor que entra por label
        if (numero != "" && !isNaN(numero)){//si el número que entra es distinto a un string y es un número
            suma=suma + parseInt(numero);//en la variable suma guarda la suma de los números que entran, 
                                         //como son texto se parsea pasandolos a int.
        }else{//pero si es una cadena y el no es un número 
            alert("No estas introduciendo un número")//envia un alert para notificarlo.
        }
    }
</script>
</head>
<body>
<div id="contenedor">
<h1>Suma</h1>
</div>
<!--Párrafo a modo de guía que usa la clase "texto" definida en la hoja de estilo externa 
    realizada en la cabecera-->
<p class="texto">Continua para introducir más números y cuando <br>
    finalices pulsa cancelar, mostrará el resultado<br>
    de la suma de todos los números introducidos.</p>
<table>
    <tr>
    <!--Label es para que el usuario introduzca los números-->
        <td><lable>Introduce número: <input type="text" name="num" id="num"/> </lable></td>
        
    </tr>
    <tr>
        <td>&nbsp;</td>
        <td>&nbsp;</td>
    </tr>
    <tr>
    <!--Cuando se hace click en el boton cancelar, llama a la función cancelar
        y si se hace click en el botón continuar llama a la función continuar-->
        <td><input type="button" name="cancelar" id="boton" value="cancelar" onclick="cancelar();"/></td>
        <td><input type="submit" name="sumar" id="boton2" value="continuar" onclick="continuar();"/></td>
    </tr>
</table>

</body>
</html>